
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Using git</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">
<div class="slides">
    <section>
        <img src="http://git-scm.com/images/logos/downloads/Git-Logo-White.png" />
        <br /><br />
        <p>Phil Fenstermacher<br />
        <a href="mailto:pcfens@wm.edu">pcfens@wm.edu</a></p>
    </section>
    <section>
        <h2>&lt;me&gt;</h2>
        <p class="fragment">*nix Engineering</p>
        <p class="fragment">Swem</p>
        <p class="fragment">Automation</p>
        <aside class="notes">
            <p>A little about me, and why I'm here presenting on something programmers typically do.</p>
            <p>*nix Engineering</p>
            <hr />
            <p>In Swem git is used to manage and deploy 2 very large applications, both with 
            upstream changes that are merged in with heavy localization and customization.</p>
            <hr/>
            <p>Automation</p>
            <p>I'm a typical engineer.  Lazy and don't like to repeat myself</p>
            <p>I like to automate things - makes things easily repeatable</p>
            <p>Makes the mantra - Automate all the things</p>
        </aside>
    </section>
    <section data-background-image="images/automate.jpg" data-background-size="contain">
        <aside class="notes">
            <p>Ops team needs some tools to automate things - to do this we use Puppet</p>
        </aside>
    </section>
    <section>
        <img src="http://puppetlabs.com/wp-content/uploads/2010/12/PL_logo_vertical_RGB_lg.png" />
        <aside class="notes">
            <p>We used a popular tool known as Puppet that stores infrastructure
            definitions as code - this lets us version/change control our infrastructure.</p>
            <p>Infrastructure as code means we can deliver/replicate our infrastructure outside
            the traditional datacenter.</p>
        </aside>
    </section>
    <section>
        <img src="images/openstack.png" />
        <aside class="notes">
            <p>Allows us to scale by building as machines as we need quickly and in an automated way &mdash;
            a true cloud architecture (NIST Standard 800-145).</p>
        </aside>
    </section>
    <section>
        <img src="images/vagrant.png" />
        <aside class="notes">
            <p>Vagrant allows you to run parts of the infrastrucutre on your desk for development/testing</p>
            <p>Makes development and testing much simpler &mdash; Allows devs to test like they're in the datacenter</p>
            <p>Allows for better/more versatile testing of the infrastructure, and what it runs by everyone</p>
        </aside>
    </section>
    <section>
        <h2>&lt;me&gt;</h2>
        <p>*nix Engineering</p>
        <p>Swem</p>
        <p>Automation</p>
        <h2 class="fragment">&lt;/Me&gt;</h2>
        <aside class="notes">
            <p>All of our Linux systems are at least partially managed by Puppet.</p>
            <p>Working on the other capabilities now to make everything easier.</p>
            <p>Enough about me and what I do - time to talk about git</p>
        </aside>
    </section>
    <section>
        <h2>What is Git?</h2>
        <blockquote cite="http://git-scm.com/">Git is a free and open source distributed version control system designed to handle 
        everything from small to very large projects with speed and efficiency.</blockquote>
        <aside class="notes">
            <p>Definition from git website - easiest to talk about in pieces</p>
        </aside>
    </section>
    <section>
        <h2>What is Git?</h2>
        <blockquote cite="http://git-scm.com/">Git is a <b>free and open source</b> distributed version control system designed to handle 
        everything from small to <b>very large projects</b> with speed and efficiency.</blockquote>
        <img src="http://www.isc.tamu.edu/~lewing/linux/sit3-shine.7.gif" />
        <aside class="notes">
            <p>Linux community dumped proprietary BitKeeper after some disagreement.  Instead of using something pre-existing
            (carrying along problems) they redsigned with some interesting design criteria - eliminating every existing product:</p>
            <ul>
                <li>Patches &lt;= 3 seconds to apply</li>
                <li>CVS is what not to do; if in doubt - make the opposite decision</li>
                <li>Distributed</li>
                <li>Strong safeguards against corruption</li>
            </ul>
            <p>Took 2 months to write - initially merging 6.7 patches/second - or ~20x faster than the original goal</p>
            <p>Has been managing Linux for just over 8 years</p>
        </aside>
    </section>
    <section>
        <h2>What is Git?</h2>
        <blockquote cite="http://git-scm.com/">Git is a free and open source <b>distributed </b>version control system designed to handle 
        everything from small to very large projects with speed and efficiency.</blockquote>
    </section>
    <section>
        <img src="http://sbecker.github.io/intro_to_git/file/01_what_is_git/centralized_version_control.png"/>
        <aside class="notes">
            <p>SVN/CVS model is everything lives on the server</p>
        </aside>
    </section>
    <section>
        <img src="http://sbecker.github.io/intro_to_git/file/01_what_is_git/distributed_version_control.png"/>
        <aside class="notes">
            <p>In git, everybody has everything - including the full history.</p>
            <p>The linux kernel (585M source) is 1.5GB with history (&gt;400k commits)</p>
        </aside>
    </section>
    <section data-background-color="rgba( 255, 255, 255, 0.6 )">
        <h2>What is Git?</h2>
        <blockquote cite="http://git-scm.com">Git is a free and open source distributed version control system designed to handle 
        everything from small to very large projects with <b>speed and efficiency</b>.</blockquote>
        <p class="fragment">
            <img src="images/graphs.png"/>
        </p>
        <aside class="notes">
            <p>A few graphs comparing git to subversion.</p>
            <p>Smaller is better.</p>
            <p>Graphs on the left make sense considering the design differences:</p>
            <ul>
                <li>Distributed</li>
                <li>Everybody has everything</li>
            </ul>
        </aside>
    </section>
    <section>
        <h2>Why git?</h2>
        <p class="fragment">Fast</p>
        <p class="fragment">Versatile</p>
        <p class="fragment">Widely Used</p>
        <aside class="notes">
            <p>Fast - not a lot of overhead (computing or human) to make it go</p><hr />
            <p>Versatile - can be used for lots of things - from configuration to code</p><hr />
            <p>Widely Used by places like us &mdash; Universities, Ellucian &mdash; Google, Facebook, and other 
            large companies - also GitHub</p>
            <p>As of January 2013 GitHub had &gt;3M users and &gt; 5M repositories</p>
        </aside>
    </section>
    <section>
        <h2>What git isn't</h2>
        <p class="fragment">Drop in replacement for any other SCM</p>
        <p class="fragment">Server for sharing code</p>
        <aside class="notes">
            <p>Not a drop in replacement for any other workflow or interface.</p>
            <p>Git itself isn't a server to make everything centralized - but a lot of these have been made.</p>
        </aside>
    </section>
    <section>
        <h2>Getting Git</h2>
        <p>http://git-scm.com</p>
        <p>or</p>
        <p>Most package managers (apt, yum, brew, etc.)</p>
        <aside class="notes">
            <p>Download it along with GUIs</p>
            <p>Package managers</p>
        </aside>
    </section>
    <section>
        <h2>Getting Started</h2>
        <pre class="fragment">
            <code data-trim>
$ cd projects/my_directory
$ git init
Initialized empty Git repository in /home/phil/projects/my_directory/.git
            </code>
        </pre>
        <pre class="fragment">
            <code data-trim>
$ cd projects
$ git clone http://github.com/pcfens/git-demo.git
Cloning into 'git-demo'...
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (3/3), done.
$ cd git-demo/    
            </code>
        </pre>
        <aside class="notes">
            <p>2 ways to start a project:</p>
            <ul>
                <li>Initializing a new project</li>
                <li>Cloning an existing project</li>
            </ul>
            <p>Both are very fast - using the kernel example - 3 minutes to download and make usable.</p>
        </aside>
    </section>
    <section>
        <img src="images/working.png"/>
        <p>Files you see and edit</p>
        <aside class="notes">
            <p>Git has 3 areas changes can be in</p>
            <p>First is the working directory</p>
        </aside>
    </section>
    <section>
        <img src="images/staging.png"/>
        <p>Changes ready to be committed</p>
        <aside class="notes">
            <p>Staging area is for files, or parts of files (chunks) to be staged before commiting them.</p>
            <p>Let's you commit parts of a file for logical commit separation</p>
            <p>Can be ignored, but generally a bad practice unless you're sure.</p>
        </aside>
    </section>
    <section>
        <img src="images/repository.png"/>
        <p>Permanent change history</p>
        <aside class="notes">
            <p>Permanent is permanent - rolling back to an old state is a new commit on top of the exisiting history.</p>
        </aside>
    </section>
    <section>
        <img src="images/stages.png"/>
    </section>
    <section data-transition="none">
        <img src="images/add.png"/>
        <aside class="notes">
            <p>The command git add adds all changes to the staging area.</p>
            <p>git add -p &lt;filename&gt; lets you stage individual chunks.</p>
        </aside>
    </section>
    <section data-transition="none">
        <img src="images/process.png"/>
        <aside class="notes">
            <p>The command `git commit` commits the staging area to the history.</p>
        </aside>
    </section>
    <section>
        <h2>Make Changes</h2>
        <p class="fragment">Add or remove something from index.html</p>
        <pre class="fragment">
            <code data-trim>
# Move changes into staging
$ git add index.html
            </code>
        </pre>
        <pre class="fragment">
            <code data-trim>
# Commit the changes
$ git commit -m "Made a local change"
            </code>
        </pre>
        <aside class="notes">
            <p>Using our clone from earlier we can make changes to our project</p>
            <p>After making the change we'll commit it to our repository.</p>
        </aside>
    </section>
    <section>
        <h2>Benefits of Git</h2>
        <ul>
            <li>Lots of copies</li>
            <li>Working Directory is the Repository</li>
            <li>Commit Staging</li>
            <li data-fragment-index="0" class="fragment">Integrity Checking</li>
            <li data-fragment-index="1" class="fragment">Lightweight Branching</li>
        </ul>
        <aside class="notes">
            <p>Lots of copies - everyone is a backup - nothing to go down <br />
            This has lead to a lot of other tools being developed - but not enough time to talk about them today.</p>
            <p>Work in the repository - lets you test as you go without having to do anything special.<br />
            Also means you can use your favorite editor - no special integration with SCM required.</p>
            <p>Commit staging (should) mean the end to commits not always making sense when compared to code</p>
            <hr />
            <p>Integrity Checking</p>
            <p>Every commit is cryptographically signed - depends on everything before it.
            <br />You can't mess with git without git knowing about it.</p>
            <hr />
            <p>Lightweight Branching</p>
            <p>Branches are fast - and a big part of what makes git awesome.</p>
        </aside>
    </section>
    <section>
        <h2>Branching</h2>
        <p class="fragment">Easy to switch between</p>
        <p class="fragment">Feature/topic branches</p>
        <p class="fragment">Merge branches into each other</p>
        <p class="fragment">Disposable</p>
        <p class="fragment">Public or Private</p>
        <aside class="notes">
            <p>Fast branch switching - it's really fast and easy - will demonstrate in a few minutes</p>
            <hr />
            <p>Feature/topic branches - not uncommon to create a branch just for adding a feature or fixing a bug <br />
            lets you go back and work on something else if it comes up, all without losing anything</p>
            <hr />
            <p>After you're happy with a branch - you merge it into your mainline with a single command</p>
            <hr />
            <p>Branches are disposable with one command - and it doesn't leave anything laying around</p>
            <hr />
            <p>Branches can be public (live on a server) or private.  They can be called something different</br />
            locally than they're called on the server.  Working on something you're not ready to share - no problem</p>
        </aside>
    </section>
    <section>
        <h2>Demo</h2>
        <p>Branching</p>
        <p>Maintaining Local Customizations</p>
        <aside class="notes">
            <p>Continuing with the web example earlier:</p>
            <ul>
                <li>Create a feature branch - git branch local-feature</li>
                <li>Checkout the new branch - git checkout local-feature</li>
                <li>Add a feature to the list</li>
                <li>git status -s</li>
                <li>Stage the feature - git add index.html</li>
                <li>git status -s</li>
                <li>git diff --staged</li>
                <li>Commit the feature - git commit -m "We added a local feature"</li>
                <li>git status -s</li>
                <li>Merge the new feature in to our master branch - git merge local-feature</li>
                <li>Delete the old branch - git branch -D local-feature</li>
                <li>We want to share - Rename the remote from origin to upstream - git remote rename origin upstream</li>
                <li>Create a repo it gitlab - add it as a remote and push what we have locally to it</li>
                <li>Make some change upstream - tag it v0.2</li>
                <li>Fetch the upstream history - git fetch upstream</li>
                <li>Merge in the new tag - git merge v0.2</li>
                <li>Show update</li>
                <li>Push it to gitlab</li>
                <li>If there's time and interest demonstrate a merge without a tag</li>
        </aside>
    </section>
    <section>
        <h2>Benefits of Git</h2>
        <ul>
            <li>Lots of copies</li>
            <li>Working Directory is the Repository</li>
            <li>Commit Staging</li>
            <li>Integrity Checking</li>
            <li>Lightweight Branching</li>
            <li class="fragment">Widely Used</li>
            <li class="fragment">Hooks into CI Systems</li>
            <li class="fragment">Deploy Directly from SCM</li>
        </ul>
        <aside class="notes">
            <p>Talked a lot about the obvious features - but there are some non-obvious too</p>
            <hr />
            <p>Widely used - tons of support - Lots of google-ability</p>
            <hr />
            <p>Hooks directly into CI systems - Jenkins, Travis, etc. - if you write tests it boosts confidence
            <br />Share story from PuppetConf</p>
            <hr />
            <p>Direct deployment - no more having to export and deliver to ops for deployment<br />
            Shrinks the distance between dev and ops and lowers chance of error<br />
            Have to be smart about it though - if the workflow says production only in master, then bad things
            can happen if it's not followed.</p>
            <p>Mention submodules</p>
    </section>
    <section>
        <h2>Additional Resources</h2>
        <p style="text-align: left; ">
        <ul>
            <li><a href="http://try.github.com/">http://try.github.com</a></li>
            <li><a href="http://git-scm.com/book">http://git-scm.com/book</a></li>
            <li><a href="http://whygitisbetterthanx.com">http://whygitisbetterthanx.com</a></li>
            <li><a href="https://illustrated-git.readthedocs.org">https://illustrated-git.readthedocs.org</a></li>
        </ul>
    </section>
</div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: false,
        progress: false,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
            { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
            { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
     });

</script>
</body>
</html>
